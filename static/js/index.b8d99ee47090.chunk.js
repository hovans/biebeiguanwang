import{n as $,j as a,bG as U,bu as V,bv as J,bw as Q,h as X,a3 as W,b8 as ee,r as C,ar as M,i as K,av as te,aI as w}from"./vendor.7b4e3a5ce4ba.chunk.js";import{X as ie,M as re,b as oe}from"./index.44dd358e3964.js";import{D as ae}from"./DataGrid.a6a07ce6b8c1.chunk.js";const ne=()=>{const{t:r}=$();return a(U,{severity:"info",children:r("traffic.alert")})};/**
 * filesize
 *
 * @copyright 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.6
 */const se="array",ce="bit",z="bits",le="byte",O="bytes",f="",fe="exponent",de="function",A="iec",ue="Invalid number",be="Invalid rounding method",I="jedec",he="object",L=".",me="round",ge="s",pe="si",ve="kbit",Se="kB",xe=" ",Te="string",ye="0",E={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function v(r,{bits:s=!1,pad:S=!1,base:o=-1,round:d=2,locale:u=f,localeOptions:x={},separator:b=f,spacer:h=xe,symbols:T={},standard:e=f,output:n=Te,fullform:y=!1,fullforms:N=[],exponent:j=-1,roundingMethod:H=me,precision:g=0}={}){let i=j,l=Number(r),t=[],c=0,B=f;e===pe?(o=10,e=I):e===A||e===I?o=2:o===2?e=A:(o=10,e=I);const p=o===10?1e3:1024,Z=y===!0,G=l<0,R=Math[H];if(typeof r!="bigint"&&isNaN(r))throw new TypeError(ue);if(typeof R!==de)throw new TypeError(be);if(G&&(l=-l),(i===-1||isNaN(i))&&(i=Math.floor(Math.log(l)/Math.log(p)),i<0&&(i=0)),i>8&&(g>0&&(g+=8-i),i=8),n===fe)return i;if(l===0)t[0]=0,B=t[1]=E.symbol[e][s?z:O][i];else{c=l/(o===2?Math.pow(2,i*10):Math.pow(1e3,i)),s&&(c=c*8,c>=p&&i<8&&(c=c/p,i++));const m=Math.pow(10,i>0?d:0);t[0]=R(c*m)/m,t[0]===p&&i<8&&j===-1&&(t[0]=1,i++),B=t[1]=o===10&&i===1?s?ve:Se:E.symbol[e][s?z:O][i]}if(G&&(t[0]=-t[0]),g>0&&(t[0]=t[0].toPrecision(g)),t[1]=T[t[1]]||t[1],u===!0?t[0]=t[0].toLocaleString():u.length>0?t[0]=t[0].toLocaleString(u,x):b.length>0&&(t[0]=t[0].toString().replace(L,b)),S&&d>0){const m=t[0].toString(),P=b||(m.match(/(\D)/g)||[]).pop()||L,D=m.toString().split(P),Y=D[1]||f,F=Y.length,q=d-F;t[0]="".concat(D[0]).concat(P).concat(Y.padEnd(F+q,ye))}return Z&&(t[1]=N[i]?N[i]:E.fullform[e][i]+(s?ce:le)+(t[0]===1?f:ge)),n===se?t:n===he?{value:t[0],symbol:t[1],exponent:i,unit:B}:t.join(h)}var _={},Be=J;Object.defineProperty(_,"__esModule",{value:!0});var k=_.default=void 0,Me=Be(V()),we=Q;k=_.default=(0,Me.default)((0,we.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");const Ie=()=>{const{t:r}=$(),s=X(),S=W(s.breakpoints.down("md")),{data:o,isLoading:d}=ie(),[u,x]=ee.useState(10),b=({title:e,description:n})=>K("div",{style:{display:"flex",alignItems:"center"},children:[e,a(te,{title:n,children:a(k,{fontSize:"small",style:{marginLeft:4,verticalAlign:"middle"}})})]}),h=C.useMemo(()=>(o==null?void 0:o.filter(e=>{const n=e.u||0,y=e.d||0;return n+y>1024*1024}))||[],[o]),T=C.useMemo(()=>[{field:"record_at",headerName:r("traffic.table.record_at",{context:"header"}).toString(),description:r("traffic.table.record_at",{context:"description"}).toString(),width:200,type:"dateTime",valueGetter:e=>M.unix(e.value).toDate(),valueFormatter:e=>M(e.value).format("YYYY-MM-DD HH:mm")},{field:"u",headerName:r("traffic.table.upload",{context:"header"}).toString(),description:r("traffic.table.upload",{context:"description"}).toString(),width:120,type:"number",valueGetter:e=>(parseFloat(e.row.server_rate),e.value),valueFormatter:e=>v(e.value,{base:2,standard:"jedec",round:2,roundingMethod:"floor"})},{field:"d",headerName:r("traffic.table.download",{context:"header"}).toString(),description:r("traffic.table.download",{context:"description"}).toString(),width:120,type:"number",valueGetter:e=>(parseFloat(e.row.server_rate),e.value),valueFormatter:e=>v(e.value,{base:2,standard:"jedec",round:2,roundingMethod:"floor"})},{field:"server_rate",headerName:r("traffic.table.server_rate",{context:"header"}).toString(),description:r("traffic.table.server_rate",{context:"description"}).toString(),width:120,type:"number",valueGetter:e=>parseFloat(e.value).toFixed(2),valueFormatter:e=>"".concat(e.value," x")},{field:"total",headerName:"",description:r("traffic.table.total",{context:"description"}).toString(),width:160,type:"number",renderHeader:()=>a(b,{title:r("traffic.table.total",{context:"header"}).toString(),description:r("traffic.table.total",{context:"description"}).toString()}),valueGetter:e=>{const n=parseFloat(e.row.server_rate);return(e.row.u+e.row.d)*n},valueFormatter:e=>v(e.value,{base:2,standard:"jedec",round:2,roundingMethod:"floor"})}],[r,M,v]);return a(re,{content:!1,children:a(ae,{columns:T,rows:h!=null?h:[],loading:d,getRowId:e=>"".concat(e.record_at,"_").concat(e.server_rate),rowsPerPageOptions:[5,10,25,50],pageSize:u,onPageSizeChange:e=>x(e),sx:{height:{md:600}},autoHeight:S})})},Ee=()=>K(w,{container:!0,spacing:2,children:[a(w,{item:!0,xs:12,children:a(ne,{})}),a(w,{item:!0,xs:12,children:a(Ie,{})})]}),Ge=()=>(oe("traffic"),a(Ee,{}));export{Ge as default};
