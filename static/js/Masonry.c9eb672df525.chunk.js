import{c4 as Q,c5 as X,s as Y,r as g,c6 as Z,c7 as ee,c8 as h,c9 as te,j as se,i as ne,ca as oe,cb as re,cc as P,cd as ie,ce as v,cf as H,cg as B,ch as ae}from"./vendor.7b4e3a5ce4ba.chunk.js";function ce(e){return Q("MuiMasonry",e)}X("MuiMasonry",["root"]);const le=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],d=e=>Number(e.replace("px","")),ue={flexBasis:"100%",width:0,margin:0,padding:0},de=e=>{const{classes:n}=e;return re({root:["root"]},ce,n)},fe=({ownerState:e,theme:n})=>{let r={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const c={};if(e.isSSR){const s={},t=d(n.spacing(e.defaultSpacing));for(let o=1;o<=e.defaultColumns;o+=1)s["&:nth-of-type(".concat(e.defaultColumns,"n+").concat(o%e.defaultColumns,")")]={order:o};return c.height=e.defaultHeight,c.margin=-(t/2),c["& > *"]=h({},r["& > *"],s,{margin:t/2,width:"calc(".concat((100/e.defaultColumns).toFixed(2),"% - ").concat(t,"px)")}),h({},r,c)}const i=P({values:e.spacing,breakpoints:n.breakpoints.values}),y=ie(n);r=v(r,H({theme:n},i,s=>{let t;if(typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"){const o=Number(s);t=B(y,o)}else t=s;return h({margin:"calc(0px - (".concat(t," / 2))"),"& > *":{margin:"calc(".concat(t," / 2)")}},e.maxColumnHeight&&{height:typeof t=="number"?Math.ceil(e.maxColumnHeight+d(t)):"calc(".concat(e.maxColumnHeight,"px + ").concat(t,")")})}));const a=P({values:e.columns,breakpoints:n.breakpoints.values});return r=v(r,H({theme:n},a,s=>{const t=Number(s),o="".concat((100/t).toFixed(2),"%"),b=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?B(y,Number(i)):"0px";return{"& > *":{width:"calc(".concat(o," - ").concat(b,")")}}})),typeof i=="object"&&(r=v(r,H({theme:n},i,(s,t)=>{if(t){const o=Number(s),b=Object.keys(a).pop(),l=B(y,o),C=typeof a=="object"?a[t]||a[b]:a,k="".concat((100/C).toFixed(2),"%");return{"& > *":{width:"calc(".concat(k," - ").concat(l,")")}}}return null}))),r},me=Y("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,n)=>[n.root]})(fe),pe=g.forwardRef(function(n,r){const c=Z({props:n,name:"MuiMasonry"}),{children:i,className:y,component:F="div",columns:a=4,spacing:R=1,defaultColumns:s,defaultHeight:t,defaultSpacing:o}=c,b=ee(c,le),l=g.useRef(),[C,k]=g.useState(),E=!C&&t&&s!==void 0&&o!==void 0,[T,U]=g.useState(E?s-1:0),O=h({},c,{spacing:R,columns:a,maxColumnHeight:C,defaultColumns:s,defaultHeight:t,defaultSpacing:o,isSSR:E}),W=de(O),_=u=>{if(!l.current||!u||u.length===0)return;const f=l.current,w=l.current.firstChild,j=f.clientWidth,V=w.clientWidth;if(j===0||V===0)return;const z=window.getComputedStyle(w),G=d(z.marginLeft),q=d(z.marginRight),$=Math.round(j/(V+G+q)),M=new Array($).fill(0);let x=!1;f.childNodes.forEach(m=>{if(m.nodeType!==Node.ELEMENT_NODE||m.dataset.class==="line-break"||x)return;const N=window.getComputedStyle(m),J=d(N.marginTop),K=d(N.marginBottom),L=d(N.height)?Math.ceil(d(N.height))+J+K:0;if(L===0){x=!0;return}for(let p=0;p<m.childNodes.length;p+=1){const S=m.childNodes[p];if(S.tagName==="IMG"&&S.clientHeight===0){x=!0;break}}if(!x){const p=M.indexOf(Math.min(...M));M[p]+=L;const S=p+1;m.style.order=S}}),x||ae.flushSync(()=>{k(Math.max(...M)),U($>0?$-1:0)})},A=g.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(_));g.useEffect(()=>{const u=A.current;if(u!==void 0)return l.current&&l.current.childNodes.forEach(f=>{u.observe(f)}),()=>u?u.disconnect():{}},[a,R,i]);const D=te(r,l),I=new Array(T).fill("").map((u,f)=>se("span",{"data-class":"line-break",style:h({},ue,{order:f+1})},f));return ne(me,h({as:F,className:oe(W.root,y),ref:D,ownerState:O},b,{children:[i,I]}))}),he=pe;export{he as M};
